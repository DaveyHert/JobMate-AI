import{d as e}from"../assets/mockProfiles-DqFmo1r9.js";class t{constructor(){this.fieldTypes={firstName:{patterns:[/^first_?name$/i,/^fname$/i,/^given_?name$/i],keywords:["first","given"],labels:["first name","given name","first","fname"],autocomplete:["given-name"],priority:10},lastName:{patterns:[/^last_?name$/i,/^lname$/i,/^surname$/i,/^family_?name$/i],keywords:["last","surname","family"],labels:["last name","surname","family name","last","lname"],autocomplete:["family-name"],priority:10},fullName:{patterns:[/^full_?name$/i,/^name$/i,/^applicant_?name$/i],keywords:["full"],labels:["full name","name","your name","applicant name"],autocomplete:["name"],priority:8},email:{patterns:[/^email$/i,/^e_?mail$/i,/^contact_?email$/i,/^email_?address$/i],keywords:["email","mail"],labels:["email","e-mail","email address","contact email","your email","work email"],autocomplete:["email"],types:["email"],priority:15},phone:{patterns:[/^phone$/i,/^tel$/i,/^mobile$/i,/^cell$/i,/^mobile_?number$/i,/^phone_?number$/i],keywords:["phone","tel","mobile","cell","number"],labels:["phone","telephone","mobile","cell phone","mobile number","best phone number","phone number","contact number"],autocomplete:["tel"],types:["tel"],priority:12},address:{patterns:[/^address$/i,/^street$/i,/^street_?address$/i],keywords:["address","street"],labels:["address","street address","home address"],autocomplete:["street-address","address-line1"],priority:8},city:{patterns:[/^city$/i,/^town$/i,/^locality$/i],keywords:["city","town"],labels:["city","town"],autocomplete:["locality"],priority:8},state:{patterns:[/^state$/i,/^province$/i,/^region$/i],keywords:["state","province"],labels:["state","province","select state"],autocomplete:["region"],priority:8},zipCode:{patterns:[/^zip_?code$/i,/^postal_?code$/i,/^zip$/i,/^postal$/i],keywords:["zip","postal"],labels:["zip code","postal code","zip"],autocomplete:["postal-code"],priority:8},country:{patterns:[/^country$/i,/^nation$/i],keywords:["country"],labels:["country"],autocomplete:["country"],priority:8},linkedIn:{patterns:[/^linked_?in$/i,/^linkedin_?(profile|url)?$/i],keywords:["linkedin"],labels:["linkedin","linkedin profile","linkedin url","linkedin profile url"],priority:7},website:{patterns:[/^website$/i,/^portfolio$/i,/^personal_?site$/i,/^homepage$/i],keywords:["website","portfolio","homepage"],labels:["website","portfolio","personal website","portfolio website"],autocomplete:["url"],types:["url"],priority:7},github:{patterns:[/^github$/i,/^git_?hub$/i,/^github_?(profile|url)?$/i],keywords:["github"],labels:["github","github profile"],priority:7},currentTitle:{patterns:[/^current_?title$/i,/^job_?title$/i,/^position$/i,/^role$/i,/^title$/i],keywords:["title","position","role","job"],labels:["job title","current title","position","role","desired position"],autocomplete:["organization-title"],priority:6},company:{patterns:[/^company$/i,/^employer$/i,/^current_?company$/i,/^organization$/i],keywords:["company","employer"],labels:["company","current company","employer"],autocomplete:["organization"],priority:6},experience:{patterns:[/^experience$/i,/^years_?experience$/i,/^work_?experience$/i],keywords:["experience","years"],labels:["experience","years of experience","work experience"],priority:5},salary:{patterns:[/^salary$/i,/^compensation$/i,/^expected_?salary$/i,/^desired_?salary$/i],keywords:["salary","compensation","pay"],labels:["salary","expected salary","desired salary"],priority:5},workAuthorization:{patterns:[/^work_?authorization$/i,/^visa$/i,/^work_?permit$/i,/^authorization$/i],keywords:["authorization","visa","permit"],labels:["work authorization","visa status","work permit"],priority:6}}}detectFieldType(e){const t=this.getElementInfo(e);if(this.isQuestionField(t))return null;const i={};for(const[s,r]of Object.entries(this.fieldTypes)){let e=0,n="";if(r.autocomplete&&t.autocomplete)for(const i of r.autocomplete)if(t.autocomplete===i){e+=2*r.priority,n="autocomplete";break}if(r.types&&t.type)for(const i of r.types)if(t.type===i){e+=1.8*r.priority,n=n||"type";break}if(r.patterns)for(const i of r.patterns)if(i.test(t.id)||i.test(t.name)){e+=1.5*r.priority,n=n||"pattern";break}if(r.labels&&t.labelText){const i=t.labelText.toLowerCase().trim();for(const t of r.labels){const o=t.toLowerCase();if(i===o){e+=1.5*r.priority,n=n||"label";break}if(i.includes(o)){e+=1.2*r.priority,n=n||"label";break}if(new RegExp(`\\b${o.replace(/\s+/g,"\\s+")}\\b`).test(i)){e+=1.3*r.priority,n=n||"label";break}}}if(r.keywords)for(const i of r.keywords)if(t.attributes.includes(i)){e+=.8*r.priority,n=n||"keyword";break}if(r.labels&&t.placeholder)for(const i of r.labels)if(t.placeholder.toLowerCase().includes(i)){e+=.6*r.priority,n=n||"placeholder";break}e>0&&(i[s]={score:e,method:n})}let n=null,o=0;for(const[s,r]of Object.entries(this.fieldTypes)){const e=2*r.priority;e>o&&(o=e)}for(const[s,r]of Object.entries(i))(!n||r.score>n.confidence)&&(n={type:s,confidence:r.score,method:r.method});return n&&(n.confidence=Math.min(100,Math.round(n.confidence/o*100))),n&&n.confidence>=25?n:null}isQuestionField(e){const t=e.labelText.toLowerCase(),i=`${e.id} ${e.name}`.toLowerCase();if(t.includes("?")||i.includes("?"))return!0;const n=[/why\s+are\s+you\s+interested/i,/why\s+do\s+you\s+want/i,/what\s+motivates\s+you/i,/describe\s+yourself/i,/tell\s+us\s+about\s+yourself/i,/what\s+makes\s+you\s+(unique|special)/i,/how\s+would\s+you\s+handle/i,/explain\s+why/i,/why\s+should\s+we\s+hire/i,/what\s+are\s+your\s+(strengths|weaknesses|goals)/i];for(const r of n)if(r.test(t))return!0;const o=[/cover\s+letter/i,/personal\s+statement/i,/motivation\s+letter/i,/essay/i,/additional\s+information/i,/comments/i,/notes/i,/message/i],s=`${t} ${i}`;for(const r of o)if(r.test(s))return!0;return!!("textarea"===e.tagName&&t.match(/(why|describe|tell\s+us|explain|what\s+makes)/i)&&t.length>10)}getElementInfo(e){let t="";if(e.id){const i=document.querySelector(`label[for="${e.id}"]`);i&&(t=i.textContent||"")}if(!t){const i=e.closest("label");i&&(t=i.textContent||"")}if(!t){let i=e.previousElementSibling;for(;i&&!t;){if("label"===i.tagName.toLowerCase()){t=i.textContent||"";break}i=i.previousElementSibling}}if(!t){const i=e.closest('div, fieldset, .form-group, .field, [class*="field"], [class*="form"]');if(i){const e=i.querySelectorAll("label, span, div, p");for(let i=0;i<e.length;i++){const n=e[i],o=n.textContent?.trim();if(o&&o.length>2&&o.length<100&&!o.includes("*")){if(o.split(/\s+/).length<=6){t=o;break}}}}}if(!t&&(t=e.getAttribute("aria-label")||"",!t&&e.getAttribute("aria-labelledby"))){const i=document.getElementById(e.getAttribute("aria-labelledby"));i&&(t=i.textContent||"")}return{id:e.id||"",name:e.name||"",type:e.getAttribute("type")||"",autocomplete:e.getAttribute("autocomplete")||"",placeholder:e.placeholder||"",className:e.className||"",labelText:t.trim(),tagName:e.tagName.toLowerCase(),attributes:[e.id,e.name,e.className,e.getAttribute("data-field")||"",e.getAttribute("data-testid")||"",t].join(" ").toLowerCase()}}}class i{constructor(e){this.detectedFields=new Map,this.elementMap=new Map,this.userProfile=e,this.detector=new t}async autoFillPage(){this.detectedFields.clear(),this.elementMap.clear();const e=[];document.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]), textarea, select').forEach((t=>{if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement){const i=this.detector.detectFieldType(t);if(i){const n=this.getElementSelector(t);this.detectedFields.set(n,i.type),this.elementMap.set(n,t),e.push({fieldType:i.type,confidence:Math.round(i.confidence),method:i.method,selector:n})}}}));try{const t=this.fillDetectedFields();return{filled:t.length,detected:this.detectedFields.size,fields:t,analysis:e}}catch(t){return{filled:0,detected:this.detectedFields.size,fields:[],analysis:e}}}fillDetectedFields(){const e=[],t={firstName:this.userProfile.personalInfo.firstName,lastName:this.userProfile.personalInfo.lastName,fullName:this.userProfile.personalInfo.fullName,email:this.userProfile.personalInfo.email,phone:this.userProfile.personalInfo.phone,address:this.userProfile.personalInfo.address,city:this.userProfile.personalInfo.city,state:this.userProfile.personalInfo.state,zipCode:this.userProfile.personalInfo.zipCode,country:this.userProfile.personalInfo.country,linkedIn:this.userProfile.personalInfo.linkedIn,website:this.userProfile.personalInfo.website,github:this.userProfile.personalInfo.github,currentTitle:this.userProfile.professional.currentTitle,company:this.userProfile.professional.company,experience:this.userProfile.professional.experience,salary:this.userProfile.professional.salary,workAuthorization:this.userProfile.professional.workAuthorization};return this.detectedFields.forEach(((i,n)=>{const o=this.elementMap.get(n),s=t[i];if(o&&s){this.fillField(o,s)&&e.push(i)}})),e}fillField(e,t){try{let n=!1;if(e.hasAttribute("readonly")||e.hasAttribute("disabled"))return!1;if(e instanceof HTMLSelectElement)n=this.fillSelectField(e,t);else{e.value;try{if(e.value=t,e.value!==t){const i=Object.getOwnPropertyDescriptor(e,"value")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");i&&i.set&&i.set.call(e,t)}e.value!==t&&e.setAttribute("value",t),this.triggerEvents(e),n=e.value===t}catch(i){n=!1}}return n&&this.addFilledFieldIndicator(e),n}catch(i){return!1}}addFilledFieldIndicator(e){e.style.borderColor="#10b981",e.style.boxShadow="0 0 0 1px #10b981",e.style.backgroundColor="#f0fdf4",e.setAttribute("data-autofilled","true"),e.style.transition="all 0.3s ease",setTimeout((()=>{"true"===e.getAttribute("data-autofilled")&&(e.style.boxShadow="",e.style.borderColor="",e.style.backgroundColor="",e.style.transition="",e.removeAttribute("data-autofilled"))}),3e3)}fillSelectField(e,t){const i=Array.from(e.options);let n=i.find((e=>e.value.toLowerCase()===t.toLowerCase()||e.text.toLowerCase()===t.toLowerCase()));return n||(n=i.find((e=>e.text.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())))),n||"ca"!==t.toLowerCase()||(n=i.find((e=>e.text.toLowerCase().includes("california")||e.value.toLowerCase().includes("california")))),!n&&t.includes("5+")&&(n=i.find((e=>e.text.includes("5+")||e.text.includes("5-")||e.text.includes("senior")))),!n&&t.toLowerCase().includes("citizen")&&(n=i.find((e=>e.text.toLowerCase().includes("citizen")||e.text.toLowerCase().includes("authorized")||e.text.toLowerCase().includes("yes")))),!!n&&(e.value=n.value,this.triggerEvents(e),!0)}triggerEvents(e){e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("blur",{bubbles:!0}))}getDetectedFields(){const e={};return this.detectedFields.forEach(((t,i)=>{e[i]=t})),e}getElementSelector(e){if(e.id)return`#${e.id}`;if(e.name)return`[name="${e.name}"]`;const t=e.tagName.toLowerCase(),i=Array.from(e.classList).slice(0,2).join(".");return i?`${t}.${i}`:t}}const n=new class{constructor(){this.strategies=[],this.initializeStrategies()}initializeStrategies(){this.strategies=[{name:"page-title-priority",priority:100,extract:this.extractFromPageTitlePriority.bind(this)},{name:"h1-elements",priority:95,extract:this.extractFromH1Elements.bind(this)},{name:"structured-data",priority:90,extract:this.extractFromStructuredData.bind(this)},{name:"dom-elements",priority:85,extract:this.extractFromDOMElements.bind(this)},{name:"meta-tags",priority:70,extract:this.extractFromMetaTags.bind(this)},{name:"url-patterns",priority:50,extract:this.extractFromURL.bind(this)}],this.strategies.sort(((e,t)=>t.priority-e.priority))}extractJobInfo(){let e={title:"Unknown Position",company:"Unknown Company",confidence:0,method:"fallback"};for(const i of this.strategies)try{const t=i.extract();if(t){if(t.confidence>=80&&i.priority>=90){e={...t,method:i.name};break}t.confidence>e.confidence&&(e={...t,method:i.name})}}catch(t){}return{title:e.title,company:e.company,confidence:e.confidence,method:e.method,url:window.location.href,source:window.location.hostname}}extractFromPageTitlePriority(){const e=document.title;if(!e)return null;const t=[{regex:/^(?:Job Application for\s+)?(.+?)\s+at\s+(.+?)(?:\s*[-|•].*)?$/i,titleIndex:1,companyIndex:2,confidence:95,name:"job-application-at"},{regex:/^([A-Z][a-zA-Z\s&.-]{1,30})\s*[-–—]\s*(.+?)(?:\s*[-–—].*)?$/i,titleIndex:2,companyIndex:1,confidence:90,name:"company-dash-title",validate:!0},{regex:/^(.+?)\s+at\s+(.+?)(?:\s*[-|•].*)?$/i,titleIndex:1,companyIndex:2,confidence:88,name:"title-at-company"},{regex:/^([^-]+?)\s*[-–—]\s*(.+?)(?:\s*[-|•].*)?$/i,titleIndex:2,companyIndex:1,confidence:85,name:"company-dash-title-generic",validate:!0},{regex:/^(.+?)\s*\|\s*(.+?)(?:\s*[-|•].*)?$/i,titleIndex:1,companyIndex:2,confidence:82,name:"title-pipe-company"},{regex:/^(.+?):\s*(.+?)(?:\s*[-|•].*)?$/i,titleIndex:2,companyIndex:1,confidence:80,name:"company-colon-title"}];for(const i of t){const t=e.match(i.regex);if(t){let e=this.cleanText(t[i.titleIndex]),n=this.cleanText(t[i.companyIndex]);if(i.validate&&(!this.looksLikeCompany(n)&&this.looksLikeJobTitle(n)&&([e,n]=[n,e]),this.looksLikeCompany(e)&&this.looksLikeJobTitle(n)&&([e,n]=[n,e])),e&&n&&e.length>2&&n.length>2)return n=n.replace(/\s*[-|]\s*(Jobs?|Careers?|Hiring|Apply).*$/i,"").trim(),{title:e,company:n,confidence:i.confidence}}}return null}extractFromH1Elements(){const e=document.querySelectorAll("h1");for(const t of e){const e=t.textContent?.trim();if(!e)continue;if(["engineer","developer","manager","director","analyst","specialist","coordinator","lead","senior","junior","principal","architect","designer","consultant","associate","executive","intern","writer","administrator","supervisor","officer","representative","technician"].some((t=>e.toLowerCase().includes(t)))){const i=this.findCompanyNearH1(t);if(i)return{title:this.cleanText(e),company:this.cleanText(i),confidence:88}}}return null}findCompanyNearH1(e){const t=[e.nextElementSibling,e.parentElement?.nextElementSibling,e.parentElement?.querySelector('.company, [class*="company"], [data-testid*="company"]')];for(const i of t)if(i&&i.textContent){const e=i.textContent.trim();if(e&&e.length>1&&e.length<100&&(this.looksLikeCompany(e)||e.match(/^[A-Z][a-zA-Z\s&.-]+$/)))return e}return null}extractFromStructuredData(){const e=document.querySelectorAll('script[type="application/ld+json"]');for(const i of e)try{const e=JSON.parse(i.textContent||"");if("JobPosting"===e["@type"]){const t=e.title||e.name,i=e.hiringOrganization?.name||e.employer?.name;if(t&&i)return{title:this.cleanText(t),company:this.cleanText(i),confidence:95}}}catch(t){continue}return null}extractFromDOMElements(){const e=["h1[data-test-job-title]",".job-details-jobs-unified-top-card__job-title h1","h1[data-jk]",".jobsearch-JobInfoHeader-title","h1.app-title",".job-post-header h1",".posting-headline h2",".job-title",'h1[data-testid*="job-title"]','h1[class*="job-title"]','h1[class*="title"]',".job-header h1",'[data-testid="jobTitle"]'],t=[".job-details-jobs-unified-top-card__company-name a",".job-details-jobs-unified-top-card__company-name",'[data-testid="inlineHeader-companyName"] a',".jobsearch-InlineCompanyRating .icl-u-lg-mr--sm",".company-name",".job-post-header .company",".posting-headline .sort-by-time",".company-name",'[data-testid*="company"]','[class*="company-name"]',".job-header .company",'a[data-testid="job-company-name"]'];let i="",n="";for(const o of e){const e=document.querySelector(o);if(e&&e.textContent?.trim()){i=this.cleanText(e.textContent);break}}for(const o of t){const e=document.querySelector(o);if(e&&e.textContent?.trim()){n=this.cleanText(e.textContent);break}}return i&&n?{title:i,company:n,confidence:85}:i||n?{title:i||"Unknown Position",company:n||"Unknown Company",confidence:50}:null}extractFromMetaTags(){const e=['meta[property="og:title"]','meta[name="twitter:title"]','meta[property="og:site_name"]','meta[name="application-name"]'];let t="",i="";for(const n of e){const e=document.querySelector(n);if(e&&e.content){const o=this.cleanText(e.content);n.includes("title")&&!t?t=o:n.includes("site_name")&&!i&&(i=o)}}return t&&i?{title:t,company:i,confidence:60}:null}extractFromURL(){const e=window.location.href,t=window.location.hostname;let i="";if(t.includes("linkedin.com"))i="LinkedIn Job";else if(t.includes("indeed.com"))i="Indeed Job";else if(t.includes("glassdoor.com"))i="Glassdoor Job";else{const e=t.split(".");e.length>2&&(i=this.capitalizeWords(e[0]))}const n=e.match(/\/jobs?\/([^\/]+)/i);if(n){const e=n[1].replace(/[-_]/g," ");return{title:this.capitalizeWords(e),company:i||"Unknown Company",confidence:30}}return null}cleanText(e){return e.replace(/\s+/g," ").replace(/[^\w\s&.-]/g,"").trim()}looksLikeCompany(e){const t=e.toLowerCase(),i=["inc","corp","llc","ltd","company","technologies","tech","systems","solutions","group","enterprises","labs","studio","agency","consulting","partners","associates","holdings","ventures","capital","industries"].some((e=>t.includes(e))),n=/^[A-Z][a-zA-Z]*(\s+[A-Z][a-zA-Z]*)*$/.test(e.trim()),o=e.length<50,s=["binance","google","apple","microsoft","amazon","meta","netflix","tesla","anduril"].some((e=>t.includes(e)));return i||s||n&&o}looksLikeJobTitle(e){const t=e.toLowerCase();return["engineer","developer","manager","director","analyst","specialist","coordinator","lead","senior","junior","principal","architect","designer","consultant","associate","executive","intern","writer","administrator","supervisor","officer","representative","technician","frontend","backend","fullstack","software","technical","product","marketing","sales","operations","finance","hr","legal"].some((e=>t.includes(e)))}capitalizeWords(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}};const o=new class{constructor(){this.container=null,this.notifications=new Map,this.createContainer()}createContainer(){if("undefined"==typeof document)return;this.container=document.createElement("div"),this.container.id="jobmate-notifications",this.container.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 10000;\n      pointer-events: none;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    ";const e=document.createElement("style");e.textContent="\n      @keyframes slideInRight {\n        from { transform: translateX(100%); opacity: 0; }\n        to { transform: translateX(0); opacity: 1; }\n      }\n      @keyframes slideOutRight {\n        from { transform: translateX(0); opacity: 1; }\n        to { transform: translateX(100%); opacity: 0; }\n      }\n      .jobmate-notification {\n        animation: slideInRight 0.3s ease;\n        margin-bottom: 10px;\n        pointer-events: auto;\n      }\n      .jobmate-notification.removing {\n        animation: slideOutRight 0.3s ease;\n      }\n    ",document.head.appendChild(e),document.body.appendChild(this.container)}show(e,t="info",i={}){this.container||this.createContainer();const{duration:n=4e3,position:o="top-right",showIcon:s=!0}=i,r=`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a=this.createNotificationElement(e,t,s);return a.id=r,this.notifications.set(r,a),this.container?.appendChild(a),n>0&&setTimeout((()=>{this.remove(r)}),n),r}remove(e){const t=this.notifications.get(e);t&&(t.classList.add("removing"),setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t),this.notifications.delete(e)}),300))}clear(){this.notifications.forEach(((e,t)=>{this.remove(t)}))}createNotificationElement(e,t,i){const n=document.createElement("div");n.className="jobmate-notification";const{bg:o,icon:s}={success:{bg:"#10b981",icon:"✓"},error:{bg:"#ef4444",icon:"✕"},warning:{bg:"#f59e0b",icon:"⚠"},info:{bg:"#3b82f6",icon:"ℹ"}}[t];if(n.style.cssText=`\n      background: ${o};\n      color: white;\n      padding: 16px 20px;\n      border-radius: 8px;\n      font-size: 14px;\n      font-weight: 500;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      max-width: 300px;\n      word-wrap: break-word;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    `,i){const e=document.createElement("span");e.textContent=s,e.style.cssText="\n        font-size: 16px;\n        flex-shrink: 0;\n      ",n.appendChild(e)}const r=document.createElement("span");return r.textContent=e,n.appendChild(r),n.addEventListener("click",(()=>{this.remove(n.id)})),n.style.cursor="pointer",n}},s=(e,t="info",i)=>o.show(e,t,i);class r{constructor(){this.autoFillEngine=null,this.isInitialized=!1,this.initializationPromise=null,this.initializationPromise=this.init()}async init(){try{this.autoFillEngine=new i(e),this.isInitialized=!0,chrome.runtime.onMessage.addListener(((e,t,i)=>(this.handleMessage(e,t,i),!0))),this.scheduleFieldHighlighting();try{chrome.runtime.sendMessage({action:"contentScriptReady"})}catch(t){}}catch(t){this.isInitialized=!1}}scheduleFieldHighlighting(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>this.highlightDetectedFields()),1e3)})):setTimeout((()=>this.highlightDetectedFields()),1e3)}async handleMessage(e,t,i){try{switch(this.initializationPromise&&await this.initializationPromise,e.action){case"ping":i({success:!0,message:"Content script is alive",initialized:this.isInitialized,url:window.location.href,title:document.title});break;case"autoFill":i(await this.handleAutoFill());break;case"extractJobInfo":i(this.extractJobInfo());break;case"extractJobDescription":i(this.extractJobDescription());break;case"getSelectedText":i({selectedText:window.getSelection()?.toString()||""});break;default:i({error:"Unknown action"})}}catch(n){i({error:n instanceof Error?n.message:"Unknown error",success:!1})}}async handleAutoFill(){try{if(!this.autoFillEngine)return{success:!1,error:"Autofill engine not initialized"};const e=await this.autoFillEngine.autoFillPage();return e.filled>0?(s(`Successfully filled ${e.filled} fields!`,"success"),{success:!0,result:e}):(s("No fillable fields found on this page","warning"),{success:!1,message:"No fields found"})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}extractJobInfo(){try{return{...n.extractJobInfo(),success:!0,timestamp:(new Date).toISOString()}}catch(e){return{title:"Unknown Position",company:"Unknown Company",url:window.location.href,source:window.location.hostname,confidence:0,method:"fallback",timestamp:(new Date).toISOString(),success:!1,error:e instanceof Error?e.message:"Unknown error"}}}extractJobDescription(){try{const e=['[data-testid="job-description"]',".job-description",".job-details",".description",'[class*="description"]',".job-content",'[class*="content"]',".posting-description",".job-posting-description",'[data-automation-id="jobPostingDescription"]',".job-details-section",".job-summary"];for(const n of e){const e=document.querySelector(n);if(e&&e.textContent&&e.textContent.length>100)return{text:e.textContent.trim(),html:e.innerHTML,source:n,success:!0}}const t=window.getSelection()?.toString();if(t&&t.length>100)return{text:t.trim(),html:t,source:"selection",success:!0};const i=document.querySelector("main, .main, #main, .content, #content");return i&&i.textContent&&i.textContent.length>100?{text:i.textContent.trim(),html:i.innerHTML,source:"main-content",success:!0}:{text:"",html:"",source:"none",success:!1}}catch(e){return{text:"",html:"",source:"error",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}highlightDetectedFields(){if(this.autoFillEngine&&this.isInitialized)try{const e=this.autoFillEngine.getDetectedFields();Object.keys(e).forEach((t=>{try{const i=document.querySelector(t);i&&(i.style.boxShadow="0 0 0 2px rgba(59, 130, 246, 0.3)",i.style.transition="box-shadow 0.3s ease",i.title=`JobMate AI+ detected: ${e[t]}`)}catch(i){}}))}catch(e){}}}try{const e=new r;window.jobMateContentScript=e}catch(a){}window.jobMateContentScriptLoaded||(window.jobMateContentScriptLoaded=!0);
